syntax = "proto3";

package sentiric.tts.v1;

option go_package = "github.com/sentiric/sentiric-contracts/gen/go/sentiric/tts/v1;ttsv1";

service TtsCoquiService {
  // Unary
  rpc CoquiSynthesize(CoquiSynthesizeRequest) returns (CoquiSynthesizeResponse);
  
  // Stream
  rpc CoquiSynthesizeStream(CoquiSynthesizeStreamRequest) returns (stream CoquiSynthesizeStreamResponse);
}

// --- Unary Messages ---
message CoquiSynthesizeRequest {
  string text = 1;
  string language_code = 2;
  bytes speaker_wav = 3;
  float temperature = 4;
  float speed = 5;
  float top_p = 6;
  float top_k = 7;
  float repetition_penalty = 8;
  string output_format = 9;
}

message CoquiSynthesizeResponse {
  bytes audio_content = 1; // Tam dosya
}

// --- Stream Messages (İçerik aynı olsa bile ayrı tanımlanmalı) ---
message CoquiSynthesizeStreamRequest {
  string text = 1;
  string language_code = 2;
  bytes speaker_wav = 3;
  float temperature = 4;
  float speed = 5;
  float top_p = 6;
  float top_k = 7;
  float repetition_penalty = 8;
  string output_format = 9;
}

message CoquiSynthesizeStreamResponse {
  bytes audio_chunk = 1; // Parça parça veri
  bool is_final = 2;
}