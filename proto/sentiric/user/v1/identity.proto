syntax = "proto3";

package sentiric.user.v1;

option go_package = "github.com/sentiric/sentiric-contracts/gen/go/sentiric/user/v1;userv1";

service IdentityService {
  rpc Authenticate(AuthenticateRequest) returns (AuthenticateResponse);
  rpc AuthorizeToken(AuthorizeTokenRequest) returns (AuthorizeTokenResponse);
}

message AuthenticateRequest { // ESKİ: AuthRequest
  string username = 1;
  string password = 2;
}

message AuthenticateResponse { // ESKİ: AuthResponse
  string access_token = 1;
  string user_id = 2;
}

message AuthorizeTokenRequest { // ESKİ: TokenRequest
  string access_token = 1;
}

message AuthorizeTokenResponse { // ESKİ: TokenResponse
  bool is_valid = 1;
  string user_id = 2;
  string tenant_id = 3;
}
